package executions

import (
	"log"

	"github.com/Byron/parsecore"
)

func ZBooksExecution() {
	categories := []string{
		"respectable",
		"question",
		"lump",
		"descent",
		"structure",
		"stadium",
		"push",
		"birthday",
		"rate",
		"reference",
		"discover",
		"understand",
		"qualification",
		"voucher",
		"sting",
		"activity",
		"offense",
		"index",
		"pen",
		"mechanism",
		"corn",
		"decisive",
		"forecast",
		"makeup",
		"mass",
		"hesitate",
		"north",
		"sour",
		"X-ray",
		"escape",
		"rescue",
		"credibility",
		"lounge",
		"notice",
		"consideration",
		"admission",
		"explicit",
		"graphic",
		"prisoner",
		"embrace",
		"bullet",
		"traffic",
		"tap",
		"bomber",
		"matrix",
		"orgy",
		"jury",
		"contain",
		"fog",
		"fan",
		"unlawful",
		"dealer",
		"play",
		"denial",
		"extinct",
		"strain",
		"nightmare",
		"soil",
		"stem",
		"failure",
		"swim",
		"achieve",
		"disappointment",
		"biography",
		"world",
		"alcohol",
		"abundant",
		"season",
		"relative",
		"blank",
		"kneel",
		"convulsion",
		"candle",
		"information",
		"fall",
		"reason",
		"prestige",
		"betray",
		"compliance",
		"child",
		"crusade",
		"sharp",
		"voter",
		"tired",
		"raw",
		"voice",
		"spine",
		"echo",
		"year",
		"sacred",
		"eye",
		"falsify",
		"convert",
		"pumpkin",
		"enlarge",
		"loyalty",
		"soar",
		"voyage",
		"resort",
		"tenant",
		"pit",
		"switch",
		"swop",
		"filter",
		"movement",
		"fog",
		"ambition",
		"torch",
		"formal",
		"welfare",
		"maze",
		"plot",
		"lane",
		"party",
		"species",
		"scrap",
		"need",
		"willpower",
		"toll",
		"pawn",
		"provincial",
		"blank",
		"twin",
		"lounge",
		"woman",
		"trustee",
		"defendant",
		"secular",
		"computing",
		"youth",
		"stumble",
		"shatter",
		"due",
		"personality",
		"carriage",
		"approve",
		"intermediate",
		"sausage",
		"finger",
		"wife",
		"peel",
		"gate",
		"criticism",
		"suite",
		"lecture",
		"consideration",
		"temporary",
		"thin",
		"retirement",
		"row",
		"immune",
		"jurisdiction",
		"pole",
		"pride",
		"density",
		"sum",
		"hide",
		"picture",
		"defend",
		"slave",
		"mercy",
		"agenda",
		"crusade",
		"attract",
		"terms",
		"treat",
		"series",
		"fist",
		"design",
		"therapist",
		"transaction",
		"drain",
		"engine",
		"wing",
		"die",
		"acceptable",
		"illness",
		"salon",
		"like",
		"pyramid",
		"finance",
		"suspect",
		"torture",
		"zero",
		"grave",
		"dialogue",
		"mile",
		"contempt",
		"patent",
		"challenge",
		"ordinary",
		"volcano",
		"judicial",
		"fantasy",
		"drown",
		"machinery",
		"digital",
		"cassette",
		"brush",
		"appeal",
		"incapable",
		"disability",
		"injection",
		"sight",
		"relieve",
		"at",
		"output",
		"compliance",
		"presence",
		"nuclear",
		"suntan",
		"variety",
		"character",
		"vegetation",
		"feminine",
		"eternal",
		"communist",
		"audience",
		"economics",
		"single",
		"proportion",
		"relate",
		"electron",
		"correction",
		"obese",
		"grip",
		"ticket",
		"vacuum",
		"satisfaction",
		"drawer",
		"thank",
		"mole",
		"sympathetic",
		"student",
		"wire",
		"queen",
		"collect",
		"biscuit",
		"mutual",
		"uncle",
		"cheese",
		"breeze",
		"shorts",
		"switch",
		"refund",
		"argument",
		"storm",
		"confession",
		"tendency",
		"charm",
		"conservation",
		"short",
		"cause",
		"operational",
		"dragon",
		"tip",
		"bacon",
		"planet",
		"appeal",
		"impound",
		"gasp",
		"role",
		"enhance",
		"introduction",
		"intention",
		"flu",
		"smart",
		"infrastructure",
		"will",
		"excitement",
		"mention",
		"sensitive",
		"water",
		"instinct",
		"ignite",
		"source",
		"school",
		"dismiss",
		"delivery",
		"leaflet",
		"prosecution",
		"fit",
		"hostility",
		"bolt",
		"strong",
		"critical",
		"invasion",
		"twitch",
		"coffin",
		"survival",
		"garage",
		"question",
		"ambiguous",
		"trance",
		"strain",
		"lost",
		"grow",
		"promote",
		"panel",
		"attic",
		"queue",
		"atmosphere",
		"foreigner",
		"intermediate",
		"behead",
		"speed",
		"colon",
		"cat",
		"extinct",
		"owe",
		"recruit",
		"crutch",
		"helpless",
		"warn",
		"part",
		"rugby",
		"rider",
		"excitement",
		"depression",
		"able",
		"chauvinist",
		"forecast",
		"role",
		"sex",
		"revolution",
		"ambiguity",
		"jungle",
		"demonstration",
		"responsibility",
		"poll",
		"widen",
		"soprano",
		"commission",
		"regulation",
		"take",
		"society",
		"noble",
		"save",
		"pumpkin",
		"snail",
		"operational",
		"so",
		"spend",
		"breeze",
		"bind",
		"manual",
		"opponent",
		"classroom",
		"farewell",
		"experience",
		"drop",
		"freckle",
		"survey",
		"sacrifice",
		"apology",
		"dollar",
		"squeeze",
		"resign",
		"inspector",
		"operational",
		"relationship",
		"architect",
		"gradual",
		"insist",
		"earthflax",
		"commitment",
		"bald",
		"boot",
		"commission",
		"ambiguity",
		"examination",
		"scheme",
		"chorus",
		"preoccupation",
		"sentiment",
		"computing",
		"student",
		"healthy",
		"register",
		"failure",
		"manage",
		"great",
		"plaster",
		"exempt",
		"essential",
		"up",
		"scatter",
		"ally",
		"period",
		"carrot",
		"lighter",
		"spend",
		"bloody",
		"connection",
		"miserable",
		"intention",
		"knock",
		"brick",
		"empirical",
		"charismatic",
	}

	for i := 0; i < len(categories)-1; i++ {
		log.Println("Running: ", categories[i], "ID num:", i)
		go ZBooksSingleExecution(categories[i])

	}

	ZBooksSingleExecution(categories[398])
}

func ZBooksSingleExecution(urlCat string) {
	source := parsecore.Source{
		SourceName:           "ZBooks",
		UrlREGEX:             "<h3 itemprop=.name.>[^>]*<a href=.([^\"']*)",
		IncompleteArticleUrl: "https://zlibrary.to/",
		DownloadUrlREGEX:     "<a class=.btn btn-primary dlButton addDownloadedBook. href=.([^\"']*)",
		DownloadUrlComplete:  "https://zlibrary.to/",
		TitleREGEX:           "<h1 itemprop=.name.[^>]*>([^<]*)",
		YearREGEX:            "<div class=.property_label.>AÃ±o:</div>[^>]*<div class=.property_value.>([^<]*)",
		AuthorREGEX:          "<div class=.authors.>[^>]*>([^<]*)",
		ExtensionREGEX:       "<div class=.property_label.>Archivo:</div>[^>]*<div class=.property_value.>([^<]*)",
		SizeREGEX:            "<div class=.property_label.>Archivo:</div>[^>]*<div class=.property_value.>([^<]*)",
		PageREGEX:            "<div class=.property_value.><span title=.Pages paperback.>([^<]*)",
		LanguageREGEX:        "<div class=.property_label.>Idioma:</div>[^>]*>([^<]*)",
		CompletePageUrlStart: "https://zlibrary.to/" + urlCat + "?page=",
		AllUrls:              nil,
		Search:               "Zbooks" + urlCat,
	}

	source.GetArticles(1, 20)
}
